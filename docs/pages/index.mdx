import Link from 'next/link'
import Button from '@mui/material/Button'
import { JsonViewerPreview } from '../components/JsonViewerPreview'

# @textea/json-viewer

## Overview

> **Makes data visualization a breeze!**

`@textea/json-viewer` allows you to display JSON data in a readable and user-friendly format. But it's not just limited to JSON - you can use it to view **ANY** kind of data. The library is highly customizable and supports 100% TypeScript, making it easy to modify and tailor to your specific needs.

## Getting Started

### Installation

```shell
npm install @textea/json-viewer
# or
yarn add @textea/json-viewer
# or
pnpm add @textea/json-viewer
```

You can also use it directly from a CDN:

```html {5,8-12} filename="index.html"
<!DOCTYPE html>
<html lang="en">
  <body>
    <div id="json-viewer"></div>
    <script src="https://cdn.jsdelivr.net/npm/@textea/json-viewer"></script>

    <script>
      new JsonViewer({
        value: {
          /* ... */
        }
      }).render('#json-viewer')
    </script>
  </body>
</html>
```

### Basic Example

```tsx
import { JsonViewer } from '@textea/json-viewer'

const object = {
  /* my json object */
}
const Component = () => <JsonViewer value={object} />
```

<JsonViewerPreview
  value={{
    string: 'this is a string',
    number: 1,
    float: 114.514,
    bigint: 10086n,
    object: { a: undefined },
    map: new Map([
      ['oh no', null],
      ['birth', new Date('December 17, 1995 03:24:00')]
    ])
  }}
/>

### Full Example

<br />
<Button variant="contained" component={Link} href="/full">
  DEMO
</Button>

Check the [source code](https://github.com/TexteaInc/json-viewer/blob/main/docs/pages/full/index.tsx) for more details.

## Configuration

### Options

| Name                         | Type                                                                                                    | Default   | Description                                                                                                                                                                          |
| ---------------------------- | ------------------------------------------------------------------------------------------------------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `value`                      | `any`                                                                                                   | -         | Your input data. Any value, `object`, `Array`, primitive type, even `Map` or `Set`.                                                                                                  |
| `rootName`                   | `string` or `false`                                                                                     | "root"    | The name of the root value.                                                                                                                                                          |
| `theme`                      | `"light"` <br />\| `"dark"` <br />\| `"auto"` <br />\| [Base16](https://github.com/chriskempson/base16) | `"light"` | Color theme.                                                                                                                                                                         |
| `className`                  | `string`                                                                                                | -         | Custom class name.                                                                                                                                                                   |
| `style`                      | `CSSProperties`                                                                                         | -         | Custom style.                                                                                                                                                                        |
| `sx`                         | `SxProps`                                                                                               | -         | [The `sx` prop](https://mui.com/system/getting-started/the-sx-prop/) lets you style elements inline, using values from the theme.                                                    |
| `indentWidth`                | `number`                                                                                                | 3         | Indent width for nested objects                                                                                                                                                      |
| `keyRenderer`                | `{when: (props) => boolean}`                                                                            | -         | Customize a key, if `keyRenderer.when` returns `true`.                                                                                                                               |
| `valueTypes`                 | `ValueTypes`                                                                                            | -         | Customize value types.                                                                                                                                                               |
| `onChange`                   | `(path, oldVal, newVal) => void`                                                                        | -         | Callback when value changed.                                                                                                                                                         |
| `onCopy`                     | `(path, value, copy) => void`                                                                           | -         | Callback when value copied, you can use it to customize the copy behavior.<br />\*Note: you can use the third argument `copy` to copy string to clipborad.                           |
| `onSelect`                   | `(path, value) => void`                                                                                 | -         | Callback when value selected.                                                                                                                                                        |
| `enableClipboard`            | `boolean`                                                                                               | `true`    | Whether enable clipboard feature.                                                                                                                                                    |
| `editable`                   | `boolean` \|<br />`(path, currentValue) => boolean`                                                     | `false`   | Whether enable edit feature. You can pass a function to customize the result.                                                                                                        |
| `defaultInspectDepth`        | `number`                                                                                                | 5         | Default inspect depth for nested objects.<br /><br />_\* If the number is set too large, it could result in performance issues._                                                     |
| `maxDisplayLength`           | `number`                                                                                                | 30        | Hide items after reaching the count.<br />`Array` and `Object` will be affected.<br /><br />_\* If the number is set too large, it could result in performance issues._              |
| `groupArraysAfterLength`     | `number`                                                                                                | 100       | Group arrays after reaching the count.<br />Groups are displayed with bracket notation and can be expanded and collapsed by clicking on the brackets.                                |
| `collapseStringsAfterLength` | `number`                                                                                                | 50        | Cut off the string after reaching the count. Collapsed strings are followed by an ellipsis.<br /><br />String content can be expanded and collapsed by clicking on the string value. |
| `objectSortKeys`             | `boolean`                                                                                               | `false`   | Whether sort keys through `String.prototype.localeCompare()`                                                                                                                         |
| `quotesOnKeys`               | `boolean`                                                                                               | `true`    | Whether add quotes on keys.                                                                                                                                                          |
| `displayDataTypes`           | `boolean`                                                                                               | `true`    | Whether display data type labels.                                                                                                                                                    |
| `displayObjectSize`          | `boolean`                                                                                               | `true`    | Whether display the size of array and object.                                                                                                                                        |
| `highlightUpdates`           | `boolean`                                                                                               | `true`    | Whether to highlight updates.                                                                                                                                                        |

#### Mapping from [`mac-s-g/react-json-view`](https://github.com/mac-s-g/react-json-view)

| Name        | Type      | Alternative                                       |
| ----------- | --------- | ------------------------------------------------- |
| `name`      | `string`  | See `rootName`                                    |
| `src`       | `any`     | See `value`                                       |
| `collapsed` | `boolean` | Set `defaultInspectDepth` to `0` to collapse all. |

### Type Declaration

See [src/type.ts](https://github.com/TexteaInc/json-viewer/blob/main/src/type.ts)

## Contributors

<a href="https://github.com/TexteaInc/json-viewer/graphs/contributors">
  <img src="https://opencollective.com/json-viewer/contributors.svg?width=890&button=false" />
</a>

## Acknowledge

This package is originally based on [mac-s-g/react-json-view](https://github.com/mac-s-g/react-json-view).

Also thanks open source projects that make this possible.

## Sponsoring services

![Netlify](https://www.netlify.com/v3/img/components/full-logo-light.svg)

[Netlify](https://www.netlify.com/) lets us distribute the [site](https://viewer.textea.io).
